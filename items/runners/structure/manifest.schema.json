{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Blogs Manifest",
  "description": "Array of blog post entries (sorted by date desc). One object per post.",
  "type": "array",
  "items": {
    "type": "object",
    "additionalProperties": false,
    "required": ["slug", "title", "date", "year", "path", "json", "venue"],
    "properties": {
      "slug": {
        "type": "string",
        "pattern": "^[a-z0-9-]+-blog-\\d{4}-\\d{2}-\\d{2}$"
      },
      "title": {
        "type": "string",
        "minLength": 1
      },
      "date": {
        "type": "string",
        "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
      },
      "year": {
        "oneOf": [
          { "type": "integer", "minimum": 2000, "maximum": 2100 },
          { "type": "string", "pattern": "^\\d{4}$" }
        ]
      },
      "month_num": {
        "oneOf": [
          { "type": "integer", "minimum": 1, "maximum": 12 },
          { "type": "string", "pattern": "^(0?[1-9]|1[0-2])$" }
        ]
      },
      "month_name": {
        "type": "string",
        "enum": [
          "January","February","March","April","May","June","July","August","September","October","November","December",
          "Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"
        ]
      },
      "season": {
        "type": "string",
        "enum": ["spring", "summer", "fall", "winter"]
      },
      "path": {
        "type": "string",
        "pattern": "^/blogs/[a-z0-9-]+-blogs-\\d{4}/[a-z0-9-]+/$"
      },
      "json": {
        "type": "string",
        "pattern": "^/blogs/[a-z0-9-]+-blogs-\\d{4}/[a-z0-9-]+/[a-z0-9-]+\\.json$"
      },
      "image": {
        "type": "string",
        "pattern": "^(https?://.+|/assets/images/.+)$"
      },
      "venue": {
        "type": "string",
        "minLength": 1
      },
      "city": { "type": "string" },
      "state": { "type": "string" },
      "country": { "type": "string" },
      "lat": { "type": "number" },
      "lng": { "type": "number" },
      "place_id": { "type": "string" },
      "timezone": { "type": "string" },
      "start_date": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
      "end_date": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
      "event_duration": { "type": "string", "enum": ["single", "weekend", "multi-day"] },
      "audience_labels": {
        "type": "array",
        "items": { "type": "string" },
        "uniqueItems": true
      },
      "tags": {
        "type": "array",
        "items": { "type": "string", "pattern": "^[a-z0-9-:]+$" },
        "uniqueItems": true
      },
      "section_link": { "type": "string", "format": "uri", "pattern": "^https?://" },
      "maps_link": { "type": "string", "format": "uri", "pattern": "^https?://" }
    }
  }
}
