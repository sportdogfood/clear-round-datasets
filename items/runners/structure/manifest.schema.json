{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://items.clearroundtravel.com/schema/blog-manifest.json",
  "title": "CRT Blog Manifest",
  "description": "Array of blog entries published to docs/blogs. One object per post.",
  "type": "array",
  "minItems": 0,
  "items": {
    "type": "object",
    "required": ["slug", "title", "date", "year", "path", "json", "venue"],
    "additionalProperties": true,
    "properties": {
      "slug": {
        "type": "string",
        "minLength": 3
      },
      "title": {
        "type": "string",
        "minLength": 3
      },
      "date": {
        "type": "string",
        "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
      },
      "year": {
        "type": "string",
        "pattern": "^[0-9]{4}$"
      },
      "brand": {
        "type": "string",
        "description": "Derived brand token, e.g. 'capc'.",
        "pattern": "^[a-z0-9-]+$"
      },
      "post_folder": {
        "type": "string",
        "description": "Folder name of the post, e.g. 'capc-blog-2025-10-05'.",
        "pattern": "^[a-z0-9-]+$"
      },
      "path": {
        "type": "string",
        "description": "Folder path under /blogs/, ending with a trailing slash.",
        "pattern": "^/blogs/[a-z0-9-]+-blogs-[0-9]{4}/[a-z0-9-]+/$"
      },
      "json": {
        "type": "string",
        "description": "Relative path to publish JSON under the same folder.",
        "pattern": "^/blogs/[a-z0-9-]+-blogs-[0-9]{4}/[a-z0-9-]+/[a-z0-9-]+-publish(?:-[0-9]{4}-[0-9]{2}-[0-9]{2})?\\.json$"
      },
      "canonical_url": {
        "type": "string",
        "description": "Public URL for the post (blog.* preferred).",
        "pattern": "^https://blog\\.clearroundtravel\\.com/blogs/[a-z0-9-]+-blogs-[0-9]{4}/[a-z0-9-]+/?$"
      },
      "venue": {
        "type": "string",
        "minLength": 2
      },
      "month_num": {
        "type": "integer",
        "minimum": 1,
        "maximum": 12
      },
      "month_name": {
        "type": "string"
      },
      "season": {
        "type": "string",
        "enum": ["Winter", "Spring", "Summer", "Fall"]
      },
      "image": {
        "type": "string",
        "format": "uri"
      },
      "city": { "type": "string" },
      "state": { "type": "string" },
      "country": { "type": "string" },
      "lat": { "type": "number", "minimum": -90, "maximum": 90 },
      "lng": { "type": "number", "minimum": -180, "maximum": 180 },
      "place_id": { "type": "string" },
      "timezone": {
        "type": "string",
        "description": "IANA timezone, e.g. America/New_York",
        "pattern": "^[A-Za-z_]+\\/[A-Za-z_]+(?:\\/[A-Za-z_]+)?$"
      },
      "start_date": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
      "end_date": { "type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$" },
      "event_duration": {
        "type": "string",
        "enum": ["single", "weekend", "multi-day", "unknown"]
      },
      "audience_labels": {
        "type": "array",
        "items": { "type": "string" }
      },
      "tags": {
        "type": "array",
        "items": { "type": "string" }
      },
      "section_link": { "type": "string", "format": "uri" },
      "maps_link": { "type": "string", "format": "uri" },
      "language": {
        "type": "string",
        "pattern": "^[a-z]{2}(-[A-Z]{2})?$",
        "default": "en"
      },
      "status": {
        "type": "string",
        "enum": ["published", "draft", "archived"],
        "default": "published"
      },
      "generated_at": {
        "type": "string",
        "format": "date-time",
        "description": "Timestamp when this manifest entry was generated."
      },
      "updated_at": {
        "type": "string",
        "format": "date-time",
        "description": "Last update time for this entry."
      },
      "id": {
        "type": "string",
        "description": "Optional unique identifier for the entry."
      }
    }
  }
}
