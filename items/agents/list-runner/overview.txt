SESSION_TS_2025-11-11T00:00:00Z

Overview:

Scope

One small world: packing for a few shows, horses, locations, lists, items.

Voice-first, mobile-first, zero drift. No weather, no chat, no extra domains.

HTTP surfaces

Read any data file:

GET /items/{path}

Git-backed writes:

POST /items/commit

POST /items/commit-bulk

List-Runner only:

POST /items/agents/list-runner/command (single write surface)

GET /items/agents/list-runner/state (read-only snapshot)

Canonical data (truth)

items/agents/list-runner/lib/locations_lib.json

items/agents/list-runner/lib/shows_lib.json

items/agents/list-runner/lib/horses_lib.json

items/agents/list-runner/lib/items_lib.json

items/agents/list-runner/lib/lists_lib.json

items/agents/list-runner/lib/kits_lib.json

items/agents/list-runner/lib/language_lib.json (outside language lane)

items/agents/list-runner/lib/voice_profile.json (assistant voice config)

Operational state

items/agents/list-runner/lists/started_lists.json

Active lists, lines, statuses, comments.

items/agents/list-runner/lists/archived_lists.json

Archived lists (e.g. 3+ days post show).

items/agents/list-runner/lists/index.json

Derived index for quick lookup.

items/agents/list-runner/state.json

Thin global state: last device, last actor, last command, current focus.

Logs

items/agents/list-runner/logs/updates.json

Every command, parsed intent, affected list, result.

items/agents/list-runner/logs/transactions.json

Thin, explicit movements and adjustments per item and list.

List-Runner command behavior

Input: device_id, optional actor, command text and/or structured intent.

Uses only the lib files above to resolve:

shows, locations, lists, horses, items, kits, aliases, nicknames, language.

Applies one atomic action:

add_line (inventory or misc)

set_status (to_take / to_bring_home and special states)

add_comment (note line)

apply_kit (expand to normal lines, no persistent binding)

summary or show_list (read-only)

Writes:

started_lists.json

archived_lists.json (when archiving rules hit)

state.json

updates.json

transactions.json

All persisted via /items/commit-bulk. Expeditor runs to refresh index.json.

Outside language lane

language_lib.json:

Maps phrases, intents, aliases, misspells, Spanish, barn slang to this small world.

voice_profile.json:

Tone, brevity, first-person rules for TTS responses.

Frontend may use Fuse.js or similar locally for fuzzy match.

Server endpoints stay simple JSON; no CDN coupling required.

This is the locked model. Anything not backed by these files or routes is out of bounds.
