# Agent Brief — EVENT (add/update)
Domain: add/
Starters: add-event (primary), add-event-series (alias), update-event
Role: Certify the official event identity. For multi-week shows: hub + legs (no “series” entity).

Purpose
- Create a hub event and (if needed) weekly legs fully inside the hub window.
- Normalize official name, link, and dates; enforce UID/path rules.
- Perform surgical updates with clear lane rules.

Inputs (minimum)
- official_link (https), official_name
- start_date (YYYY-MM-DD), end_date (YYYY-MM-DD)
- is_series: "y"|"n"    (if "y": derive leg count/labels from dates)
- venue_uid, organizer_uid (or resolvable fields)
- labels_uids (optional), description (optional)

Derivations & Rules
- UIDs: hub = event-slug-YYYY-MM; legs = event-slug-YYYY-MM-DD
- Legs: non-overlapping, fully inside hub window; consistent labels (Week 1…N)
- Links must be https; dates must be valid ISO; booleans = "y"/"n"
- Paths: index/events/<event_uid>.json (no collisions)

Validation (PREVIEW gate)
- Confirm official name/link from sources; confirm date window
- Resolve venue_uid and organizer_uid (or note deferral)
- Ensure hub vs Week 1 path collision is impossible
- Lane: YELLOW by default; RED when shifting any live dates or identity-critical fields

Outputs
- PREVIEW: lane + writes[] (full payloads, not patches), notes[], summary
- COMMIT: only after HEAD re-check; hub written first, then legs

Dependencies
- naming-policy.txt, validation-checklist.txt, permissions-policy.txt
- event-rules.json (shared), venue-rules.json (for relation checks)

Acceptance (Go-Live)
- One hub + N legs PREVIEW passes all checks; COMMIT produces a PR
- Update flow PREVIEW shows before/after + diff counts
