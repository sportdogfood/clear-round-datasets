<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CRT Competition Selector</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Optional: drop in a styles.css later -->
  <!-- <link rel="stylesheet" href="./styles.css" /> -->
</head>
<body>
  <main id="session-tool">
    <!-- Header -->
    <header id="session-header">
      <h1>Competition Selector</h1>
      <p>Start a new session, filter competitions, select series (Base Keys), and preview your submission.</p>
    </header>

    <!-- Session controls -->
    <section id="session-controls">
      <button id="btn-start-session" type="button">Start new session</button>
      <span id="session-status" aria-live="polite"></span>
      <button id="btn-end-session" type="button" hidden>End session</button>
    </section>

    <!-- Filters (hidden until session starts) -->
    <section id="filters-panel" hidden>
      <h2>Filters</h2>
      <div class="filters-grid">
        <!-- Comp Uuid dropdown -->
        <label for="filter-comp-uuid">
          Comp Uuid
          <select id="filter-comp-uuid">
            <option value="">All</option>
            <!-- options populated by JS -->
          </select>
        </label>

        <!-- Rating text search -->
        <label for="filter-rating">
          Rating
          <input id="filter-rating" type="text" placeholder="Search rating…" />
        </label>

        <!-- Name (Name Orig + Base Name) text search -->
        <label for="filter-name">
          Name
          <input id="filter-name" type="text" placeholder="Search name…" />
        </label>

        <!-- Archived tri-state -->
        <label for="filter-archived">
          Archived
          <select id="filter-archived">
            <option value="all">All</option>
            <option value="active">Only active</option>
            <option value="archived">Only archived</option>
          </select>
        </label>

        <!-- Year dropdown -->
        <label for="filter-year">
          Year
          <select id="filter-year">
            <option value="">All</option>
            <!-- options populated by JS -->
          </select>
        </label>

        <!-- City text search -->
        <label for="filter-city">
          City
          <input id="filter-city" type="text" placeholder="Search city…" />
        </label>

        <!-- Zone dropdown -->
        <label for="filter-zone">
          Zone
          <select id="filter-zone">
            <option value="">All</option>
            <!-- options populated by JS -->
          </select>
        </label>

        <!-- State dropdown -->
        <label for="filter-state">
          State
          <select id="filter-state">
            <option value="">All</option>
            <!-- options populated by JS -->
          </select>
        </label>
      </div>

      <button id="btn-clear-filters" type="button">Clear filters</button>
    </section>

    <!-- Results (grouped by Base Key) -->
    <section id="results-panel" hidden>
      <h2>Results</h2>
      <div id="series-list">
        <!-- series groups (Base Key) rendered by JS -->
      </div>
    </section>

    <!-- Submit panel -->
    <section id="submit-panel" hidden>
      <p id="selection-summary">You haven’t selected any series yet.</p>
      <button id="btn-submit-selection" type="button" disabled>Submit selection</button>
    </section>

    <!-- Debug submit payload preview -->
    <section id="debug-panel" hidden>
      <h2 id="debug-title">Submitted payload (preview only)</h2>
      <pre id="debug-payload"></pre>
    </section>
  </main>

  <!-- Main script for this page -->
  <script src="./main.js"></script>
</body>
</html>
